setwd("~/G_WD/swattingham")
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, getwd())
paste(getwd(), "/cat_rankings.csv")
paste(getwd(), "/cat_rankings.csv", sep = "")
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv')
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result)[1] = "TEAM"
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv')
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv', row.names = TRUE)
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""), row.names = TRUE)
read.csv('cat_rankings.csv')
?read.csv
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""), row.names = 1)
read.csv('cat_rankings.csv')
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv', row.names = 1)
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result$RANK) = as.character(Sys.Date())
result
Sys.Date()
colnames(result$RANK) = x
colnames(result$RANK) = "x"
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv', row.names = 1)
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv', row.names = 1, stringsAsFactors = FALSE)
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(result, ranks, by = "row.names")
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
ranks
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks
ranks = merge(ranks, result, by = "row.names")
ranks
test = seq(1:10)
test
test = result
colnames(test)[1] = "test"
test
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks
merge(ranks, test, by = "row.names")
ranks
merge(ranks, test[,1], by = "row.names")
merge(ranks, test, by = "row.names")
ranks
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
# result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
# result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
# result = dat[order(dat$RANK),]
result = dat[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))])]
order(ranks[,length(colnames(ranks))])
ranks = ranks[order(ranks[,length(colnames(ranks))])]
length(colnames(ranks))
ranks = ranks[order(ranks[,2])]
ranks[,2]
?order
col = length(colnames(ranks))
col
col = colnames(ranks)[[length(colnames(ranks))]]
col
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
ranks
ranks
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
setwd("~/G_WD/swattingham")
library(XML)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
ranks
?quit
getwd()
