<<<<<<< HEAD
=======
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
ranks
plot_ranks = t(ranks)
plot_ranks = melt(ranks)
plot_ranks
ranks = t(ranks)
ranks = melt(ranks)
ranks
ranks = t(ranks)
ranks = melt(ranks)
colnames(ranks) = c("Date", "Team", "Rank")
ranks
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
>>>>>>> fc1c0b102c362bc4f8aafb49239c9b4ccc70455c
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = t(ranks)
ranks = melt(ranks)
colnames(ranks) = c("Date", "Team", "Rank")
ranks
ggplot(data = ranks, aes(x=Date, y = Rank) +)
ggplot(data = ranks, aes(x=Date, y = Rank) + geom_line(aes(color=Team, size=1.25)))
install.packages("ggplot2")
ggplot(data = ranks, aes(x=Date, y = Rank) + geom_line(aes(color=Team, size=1.25)))
library(ggplot2)
ggplot(data = ranks, aes(x=Date, y = Rank) + geom_line(aes(color=Team, size=1.25)))
ggplot(data = ranks, aes(x=Date, y = Rank) + geom_line(aes(color=Team), size=1.25)) )
ggplot(data = ranks, aes(x=Date, y = Rank) + geom_line(aes(color=Team), size=1.25) )
ggplot(data = ranks, aes(x=Date, y = Rank)) + geom_line(aes(color=Team), size=1.25)
ggplot(data = ranks, aes(x=Date, y = Rank, group = 1)) + geom_line(aes(color=Team), size=1.25)
ranks = t(ranks)
ranks = melt(ranks, id="date")
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks
ranks = melt(ranks, id="date")
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
colnames(plot_ranks)[1] = "Date"
plot_ranks
ranks = melt(ranks, id="Date")
plot_ranks = t(ranks)
colnames(plot_ranks)[1] = "Date"
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
ggplot(data = plot_ranks, aes(x=Date, y = Rank, group = 1)) + geom_line(aes(color=Team), size=1.25)
plot_ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = t(ranks)
colnames(plot_ranks)[1] = "Date"
plot_ranks = melt(plot_ranks, id="Date")
plot_ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
colnames(plot_ranks)[1] = "Date"
plot_ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
plot_ranks
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
ggplot(data = plot_ranks, aes(x=Date, y = Rank, group = 1)) + geom_line(aes(color=Team), size=1.25)
plot_ranks
ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) +
geom_line() +
geom_point( size=4, shape=21, fill="white")
ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team))
+ geom_line()
+ scale_y_reverse()
plot = plot + scale_y_reverse()
plot
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team))
+ geom_line()
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse()
plot
plot = plot + scale_y_reverse() + scale_y_continuous(breaks = c(1,2,3,4,5,6,7,8,9,10))
plot = plot + scale_y_continuous(breaks = c(1,2,3,4,5,6,7,8,9,10))
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team))
+ geom_line() + scale_y_continuous(breaks=seq(0,10,by=1))
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line() + scale_y_continuous(breaks=seq(0,10,by=1))
plot
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse()
plot
plot
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
plot
getwd()
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
png(filename="/Users/TimHealy/G_WD/swattingham/rank_chart.png")
plot(plot)
dev.off()
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
## write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
png(filename="/Users/TimHealy/G_WD/swattingham/rank_chart.png")
plot(plot)
dev.off()
ranks
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks
plot_ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
ranks
result
ranks
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
png(filename="/Users/TimHealy/G_WD/swattingham/rank_chart.png")
plot(plot)
dev.off()
test = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
test
test$`2016-05-12.y`=NULL
test
colnames(test)[1] = "2016-05-11"
test
write.csv(test, paste(getwd(), "/cat_rankings.csv", sep = ""))
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
png(filename="/Users/TimHealy/G_WD/swattingham/rank_chart.png")
plot(plot)
dev.off()
getwd()
test = read.csv("cat_rankings.csv")
test
test = read.csv("cat_rankings.csv",check.names = FALSE)
test
test$`2016-05-13` = NULL
test
write.csv(test,"cat_rankings.csv")
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
a = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
b = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
cbind(a,b)
cbind(,a,b,result)
cbind(a,b,result)
test = cbind(a,b)
test
names = colnames(result)
2016-05-11 = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
2016-05-12 = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
test = cbind(2016-05-11, 2016-05-12)
rownames(test) = rownames(result)
'2016-05-11' = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
'2016-05-12' = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
test = cbind(2016-05-11, 2016-05-12)
rownames(test) = rownames(result)
test
'2016-05-11' = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
'2016-05-12' = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
test = cbind('2016-05-11', '2016-05-12')
rownames(test) = rownames(result)
test
'2016-05-11' = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
'2016-05-12' = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
'2016-05-11'
a = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
b = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
test = cbind(a, b)
rownames(test) = rownames(result)
test
a = c(3.9, 4.9, 4.6, 5.2, 4.5, 5.3, 5.1, 5.7, 7.1, 8.7)
b = c(4.1, 4.6, 4.6, 4.9, 5.1, 5.1, 5.3, 5.7, 7.2, 8.4)
test = cbind(a, b)
rownames(test) = rownames(result)
colnames(test) = c("2016-05-11", "2016-05-12")
test
getwd()
write.csv(test,"cat_rankings.csv")
setwd("~/G_WD/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
<<<<<<< HEAD
dat
setwd("~/")
list.files
list.files(0)
list.files()
read.csv("controllable.csv")
read.csv("controllable.csv")
control = read.csv("controllable.csv", check.names = FALSE)
head(control)
control = melt(control)
library(reshape2)
melt(control)
head(control)
sys.date()
Sys.Date()
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
head(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
write.csv("controllable.csv", row.names = FALSE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
write.csv(paste(getwd(),"controllable.csv", sep = ""), row.names = FALSE)
getwd()
paste(getwd(),"controllable.csv"
)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
write.csv(paste(getwd(),"/controllable.csv", sep = ""), row.names = FALSE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
write.csv(control, paste(getwd(),"/controllable.csv", sep = ""), row.names = FALSE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
write.csv(control, paste(getwd(),"/controllable.csv", sep = ""), row.names = FALSE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
write.csv(control, paste(getwd(),"/controllable.csv", sep = ""), row.names = FALSE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
write.csv(control, paste(getwd(),"/controllable.csv", sep = ""), row.names = FALSE)
control$DATE = as.Date(control$DATE, origin = origin = "1899-12-30")
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
str(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
str(control)
control$DATE
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
head(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
head(control)
str(control)
library(reshape2)
control = read.csv("controllable.csv", stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
head(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
control$DATE = as.character(control$DATE)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
str(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
control$DATE = as.character(control$DATE)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.character(control$DATE)
str(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.character(control$DATE)
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.numeric(control$DATE)
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
str(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.numeric(control$DATE)
str(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
head(control)
str(control)
library(reshape2)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("SAMID", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
head(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$DATE
install.packages("tidyr")
library(tidyr)
control$month <- format(control$DATE, format='%b')
head(control)
control$month = NULL
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='%y')
head(control)
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='%Y')
head(control)
library(reshape2)
library(plyr)
control = dcast(control, YEAR ~ MONTH, value.var="VALUE")
head(CONTROL)
head(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='%Y')
control$DATE = NULL
head(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='FY%y')
head(control)
control = read.csv("controllable.csv", check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='FY%y')
control$DATE = NULL
head(control,50)
unique(control$YEAR)
Data_Converter = function(filepath) {
library(reshape2)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='FY%y')
control$DATE = NULL
write.csv(control, filepath, row.names = FALSE)
}
Data_Converter("C:\Users\thealy\Box Sync\Working Documents - AOP Conversion to PFM\Admin\Data\Data Converter")
Data_Converter("C:/Users/thealy/Box Sync/Working Documents - AOP Conversion to PFM/Admin/Data/Data Converter/performance.csv "
)
filepath = "C:/Users/thealy/Box Sync/Working Documents - AOP Conversion to PFM/Admin/Data/Data Converter/performance.csv"
library(reshape2)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control)
colnames(control) = c("GL", "DATE", "VALUE")
control$DATE = as.numeric(as.character(control$DATE))
control$DATE = as.Date(control$DATE, origin = "1899-12-30")
control$MONTH <- format(control$DATE, format='%b')
control$YEAR <- format(control$DATE, format='FY%y')
control$DATE = NULL
head(control)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
head(control)
control = melt(control)
library(reshape2)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
colnames(control)
control = melt(control)
head(control)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
str(control)
filepath = "C:/Users/thealy/Box Sync/Working Documents - AOP Conversion to PFM/Admin/Data/Data Converter/performance.csv"
library(reshape2)
control = read.csv(filepath, check.names = FALSE, stringsAsFactors = FALSE)
control = melt(control
)
list.files()
setwd("~/Personal Finance/swattingham")
list.files()
read.csv("cat_rankings.csv", row.names = 1, check.names = FALSE)
test = read.csv("cat_rankings.csv", row.names = 1, check.names = FALSE)
colnames(test)[1] = "2016-05-11"
test
setwd("~/Personal Finance/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
=======
>>>>>>> fc1c0b102c362bc4f8aafb49239c9b4ccc70455c
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
<<<<<<< HEAD
png(filename=paste(getwd(),"rank_chart.png", sep = "/"))
plot(plot)
dev.off()
read.csv("cat_rankings.csv")
read.csv("cat_rankings.csv", check.names = FALSE, row.names = 1)
setwd("~/Personal Finance/swattingham")
library(XML)
library(reshape2)
library(ggplot2)
raw_dat = readHTMLTable("http://games.espn.go.com/flb/standings?leagueId=180523&seasonId=2016")
dat = raw_dat$statsTable
dat = dat[3:nrow(dat), 2:14]
dat$V3 = NULL
dat$V9 = NULL
colnames(dat) = c("TEAM", "R", "HR", "RBI", "SB", "OBP", "K", "W", "SV", "ERA", "WHIP")
rownames(dat) = dat$TEAM
dat$TEAM = NULL
for(i in colnames(dat[,1:10])) {
if(i == "ERA" | i == "WHIP"){
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = FALSE)] = 1:nrow(dat)
}else{
dat[[paste(i, 'RANK', sep = " ")]][order(dat[[i]], decreasing = TRUE)] = 1:nrow(dat)
}
}
dat$RANK = rowMeans(dat[,11:length(colnames(dat))])
result = dat[order(dat$RANK),]
result = result[,"RANK", drop = FALSE]
colnames(result) = as.character(Sys.Date())
result
## write.csv(result, paste(getwd(), "/cat_rankings.csv", sep = ""))
ranks = read.csv('cat_rankings.csv', row.names = 1, check.names = FALSE)
ranks = merge(ranks, result, by = "row.names")
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks = ranks[order(ranks[,length(colnames(ranks))]),]
write.csv(ranks, paste(getwd(), "/cat_rankings.csv", sep = ""))
=======
png(filename="/Users/TimHealy/G_WD/swattingham/rank_chart.png")
plot(plot)
dev.off()
png(filename = paste(getwd(),"rank_chart.png", sep = "/"), width = 800, height = 800, res = 300)
plot(plot)
dev.off()
png(filename = paste(getwd(),"rank_chart.png", sep = "/"), width = 1600, height = 1600, res = 300)
plot(plot)
dev.off()
ranks
ranks
ranks = read.csv("cat_rankings.csv")
ranks
ranks = read.csv("cat_rankings.csv", check.names = FALSE)
ranks
colnames(ranks)[2] = "2016-05-11"
ranks
rownames(ranks) = ranks$Row.names
ranks$Row.names = NULL
ranks
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
plot
ranks
ranks = read.csv("cat_rankings.csv", check.names = FALSE, row.names = TRUE)
ranks = read.csv("cat_rankings.csv", check.names = FALSE, row.names = 1)
ranks
colnames(ranks)[1] = "2016-05-11"
ranks
>>>>>>> fc1c0b102c362bc4f8aafb49239c9b4ccc70455c
plot_ranks = t(ranks)
plot_ranks = melt(plot_ranks, id="Date")
colnames(plot_ranks) = c("Date", "Team", "Rank")
plot = ggplot(data=plot_ranks, aes(x=Date, y=Rank, group = Team, colour = Team)) + geom_line()
plot = plot + scale_y_reverse() + ggtitle("SwattingHAM Scoring Category Rankings")
<<<<<<< HEAD
png(filename=paste(getwd(),"rank_chart.png", sep = "/"))
plot(plot)
dev.off()
read.csv("cat_rankings.csv", check.names = FALSE, row.names = 1)
=======
plot
plot
png(filename = paste(getwd(),"rank_chart.png", sep = "/"), width = 1600, height = 1600, res = 300)
plot(plot)
dev.off()
>>>>>>> fc1c0b102c362bc4f8aafb49239c9b4ccc70455c
